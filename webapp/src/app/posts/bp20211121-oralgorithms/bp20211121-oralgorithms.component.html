<h1>Operations Research - basic algorithms</h1>

<button class="btn btn-primary" (click)="NearestNeighborNextStep()">Nearest Neighbor Next Step</button>

<div class="svginside" style="max-width:480px">
  <canvas width="430" height="260"></canvas>
  <svg height="100%" width="100%" attr.viewBox="{{xMin - 5}} {{yMin - 5}} {{xMax - xMin + 10}} {{yMax - yMin + 10}}">
    <style>
      .small {
        font: italic 8px sans-serif;
      }

      .heavy {
        font: bold 30px sans-serif;
      }

      /* Note that the color of the text is set with the    *
       * fill property, the color property is for HTML only */
      .Rrrrr {
        font: italic 40px serif;
        fill: red;
      }

      .startNode {
        fill: red;
      }
    </style>

    <ng-container *ngFor="let item of customers">

      <text [attr.x]="item.X+1.5" [attr.y]="item.Y-3" class="small">{{item.label}}</text>
      <circle *ngIf="item.isStartNode" [attr.cx]="item.X" [attr.cy]="item.Y" r="4" class="startNode" />
      <circle [attr.cx]="item.X" [attr.cy]="item.Y" r="2" />
    </ng-container>

    <line *ngFor="let item of Edges" [attr.x1]="item.x1" [attr.x2]="item.x2" [attr.y1]="item.y1" [attr.y2]="item.y2"
      stroke="orange" stroke-width="2" />


  </svg>
</div>

<div class="row">
  <div class="col">
    <table class="table   table-hover table-striped text-center">
      <thead>
        <tr>
          <th scope="col">
            <div [mathjax]="'$$C_{i,j}$$'"></div>
          </th>
          <th>X</th>
          <th>Y</th>
          <th  *ngFor="let item of customers; let indexOfelement=index"   scope="col"><span ngClass="{'badge text-light badge-danger':indexOfelement == 1}"
            >{{item.label}}</span></th>

        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of customers">
          <th scope="row">{{item.label}}</th>
          <th scope="row">{{item.X}}</th>
          <th scope="row">{{item.Y}}</th>
          <td *ngFor="let item2 of customers">
            <span  [ngClass]="{' badge text-light bg-primary':(X[item.index ][item2.index] == true)}"
              [innerText]="C[item.index ][item2.index]"></span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="col">
    <table class="table  table-hover table-striped text-center">
      <thead>
        <tr>
          <th scope="col">
            <div [mathjax]="'$$X_{i,j}$$'"></div>
          </th>
          <th>X</th>
          <th>Y</th>
          <th  *ngFor="let item of customers;let indexOfelement=index"   scope="col"><span ngClass="{'badge text-light badge-danger':indexOfelement == 1}"
            >{{item.label}}</span></th>

        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of customers">
          <th scope="row">{{item.label}}</th>
          <th scope="row">{{item.X}}</th>
          <th scope="row">{{item.Y}}</th>
          <td *ngFor="let item2 of customers"><i *ngIf="X[item.index ][item2.index]" class="fas"
              [ngClass]="{'fa-check-circle text-success':X[item.index ][item2.index],'fa-circle text-danger':X[item.index ][item2.index] ===false}"></i>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>


<div [mathjax]="tsp"></div>
